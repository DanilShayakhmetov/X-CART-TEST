{##
 # Cart coupons
 #}

<div class="coupons clearfix {% if this.showCouponBoxAlways() %}opened{% endif %}">
  {% if this.isCouponPanelVisible() %}
    {% if not this.getCoupons() and not this.showCouponBoxAlways() %}
      <div class="new more"><a href="#"><span>{{ t('Have a discount coupon?') }}</span></a></div>
    {% endif %}
    {% if this.getCoupons() and not this.showCouponBoxAlways() %}
      <div class="new add"><a href="#"><span>{{ t('Have more coupons?') }}</span></a></div>
    {% endif %}

    <div class="add-coupon clearfix"
      {% if not this.showCouponBoxAlways() %}
        style="display: none;"
      {% else %}
        style="display: block;"
      {% endif %}
    >
      {% form '\\XLite\\Module\\CDev\\Coupons\\View\\Form\\Customer\\AddCoupon' %}
        {{ widget('XLite\\View\\FormField\\Input\\Text', fieldName='code', required='true', placeholder=t('Enter code', [], null, 'placeholder'), maxlength='16', fieldOnly=this.isFieldOnly(), label=t('Coupon code')) }}
        {{ widget('XLite\\Module\\CDev\\Coupons\\View\\Button\\AddCoupon') }}
      {% endform %}
    </div>

  {% endif %}
</div>
