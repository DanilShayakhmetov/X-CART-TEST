{##
 # Rating of reviews
 #
 # @ListChild (list="reviews.page.rating", weight="300")
 # @ListChild (list="reviews.rating.details", weight="200")
 #}

{% if this.isVisibleAverageRating() %}
  <div class="ratings-details">
    <div class="title">
      {{ t('Rating of votes') }} ({{ this.getVotesCount() }})
    </div>
    <table>
      {% for rating in this.getRatings() %}
        <tr class="rating-{{ rating.rating }}">
          <td class="indent"></td>
          <td class="rating-digit">{{ rating.rating }}</td>
          <td class="rating">{{ widget('\\XLite\\Module\\XC\\Reviews\\View\\VoteBar', rate='1', max='1', length='1') }}</td>
          <td class="percent">
            <div class="rating-line rating-{{ rating.rating }}" style="width:{{ rating.percent }}%">&nbsp;</div>
            {% if rating.showPercentLastDiv %}<div class="rating-end">&nbsp;</div>{% endif %}
          </td>
          <td class="count count-{{ rating.count }}"><span class="count-number">{{ rating.count }}</span><span class="count-text">{{ t('customers') }}</span></td>
        </tr>
      {% endfor %}
      <tr><td colspan="5">&nbsp;</td></tr>
    </table>
  
  </div>
{% endif %}
