/* vim: set ts=2 sw=2 sts=2 et: */

/**
 * Progress state
 *
 * Copyright (c) 2011-present Qualiteam software Ltd. All rights reserved.
 * See https://www.x-cart.com/license-agreement.html for license details.
 */

.progress-state {
  position: relative;

  > div {
    opacity: 0;
    visibility: hidden;
    /*transform: scale(1.3);*/
    transition: opacity .25s, transform .5s;
  }

  &.in_progress.disabled,
  &.success.disabled {
    opacity: 1;
    visibility: visible;
  }

  .caption {
  }

  &.still .caption {
    opacity: 1;
    visibility: visible;
    /*transform: scale(1);*/
  }

  .success {
    .flex-display();
    .justify-content(center);
    .align-items(center);

    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    font-size: 25px;
    color: @color-link;
  }

  &.success .success {
    opacity: 1;
    visibility: visible;
    /*transform: scale(1);*/
  }

  .fail {
    .flex-display();
    .justify-content(center);
    .align-items(center);

    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    font-size: 25px;
    color: @color-link;
  }

  &.fail .fail {
    opacity: 1;
    visibility: visible;
    /*transform: scale(1);*/
  }

  .loader {
    .flex-display();
    .justify-content(center);
    .align-items(center);

    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    font-size: 25px;

    .dot {
      margin: 3px;
      display: inline-block;
      width: 6px;
      height: 6px;
      border-radius: 100%;
      background-color: @color-link;
      opacity: 0;
      vertical-align: text-top;
    }

    .dot1 {
      animation: opacitychange 1s ease-in-out infinite;
    }

    .dot2 {
      animation: opacitychange 1s ease-in-out 0.33s infinite;
    }

    .dot3 {
      animation: opacitychange 1s ease-in-out 0.66s infinite;
    }
  }

  &.regular-main-button {
    .loader .dot {
      background-color: @color-background;
    }

    .success {
      color: @color-background;
    }

    .fail {
      color: @color-background;
    }
  }

  &.in_progress .loader {
    opacity: 1;
    visibility: visible;
    /*transform: scale(1);*/
  }
}

@keyframes opacitychange {
  0%, 100% {
    opacity: 0;
  }

  60% {
    opacity: 1;
  }
}
