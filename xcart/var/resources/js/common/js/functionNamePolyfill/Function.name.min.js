(function(){var fnNameMatchRegex=/^\s*function\s+([^\(\s]*)\s*/
function _name(){var match,name;if(this===Function||this===Function.prototype.constructor){name="Function"}else if(this!==Function.prototype){match=(""+this).match(fnNameMatchRegex);name=match&&match[1]};return name||""};var needsPolyfill=!("name"in Function.prototype&&"name"in(function x(){})),canDefineProp=typeof Object.defineProperty==="function"&&(function(){var result;try{Object.defineProperty(Function.prototype,"_xyz",{get:function(){return"blah"},configurable:true});result=Function.prototype._xyz==="blah";delete Function.prototype._xyz}catch(e){result=false};return result})(),canDefineGetter=typeof Object.prototype.__defineGetter__==="function"&&(function(){var result;try{Function.prototype.__defineGetter__("_abc",function(){return"foo"});result=Function.prototype._abc==="foo";delete Function.prototype._abc}catch(e){result=false};return result})();Function.prototype._name=_name;if(needsPolyfill)if(canDefineProp){Object.defineProperty(Function.prototype,"name",{get:function(){var name=_name.call(this);if(this!==Function.prototype)Object.defineProperty(this,"name",{value:name,configurable:true});return name},configurable:true})}else if(canDefineGetter)Function.prototype.__defineGetter__("name",function(){var name=_name.call(this);if(this!==Function.prototype)this.__defineGetter__("name",function(){return name});return name})})()