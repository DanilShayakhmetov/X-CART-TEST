var LazyLoad=(function(doc){'use strict';var head,pending={},pollCount=0,cache={},queue={css:[],js:[]},canBind=typeof Function.prototype.bind==='function',styleSheets=doc.styleSheets,finishCSS=canBind?finish.bind(doc,'css'):function finishCSS(){finish('css')},ua=navigator.userAgent,env={async:createNode('script').async===true};if(/AppleWebKit\//.test(ua)){env.webkit=true}else if(/MSIE|Trident/.test(ua)){env.ie=true}else if(/Opera/.test(ua)){env.opera=true}else if(/Gecko\//.test(ua)){env.gecko=true}else env.unknown=true
function createNode(name,attrs){var attr,node=doc.createElement(name);if(attrs)for(attr in attrs)if(attrs.hasOwnProperty(attr))node.setAttribute(attr,attrs[attr]);return node}
function finish(type){var p=pending[type],callback,urls;if(p){callback=p.callback;urls=p.urls;cache[urls.shift()]=true;pollCount=0;if(!urls.length){if(typeof callback==='function')callback.call(p.context,p.obj);pending[type]=0;if(queue[type].length)load(type)}}}
function load(type,urls,callback,obj,context){var _finish=canBind?finish.bind(doc,type):function _finish(){finish(type)},isCSS=type==='css',nodes=[],i,len,node,p,pendingUrls,url;if(urls){urls=typeof urls==='string'?[urls]:urls.slice();if(isCSS||env.async||env.gecko||env.opera){queue[type].push({urls:urls,callback:callback,obj:obj,context:context})}else for(i=0,len=urls.length;i<len;++i)queue[type].push({urls:[urls[i]],callback:i===len-1?callback:0,obj:obj,context:context})};if(pending[type]||!(p=pending[type]=queue[type].shift()))return;head=head||doc.head||doc.getElementsByTagName('head')[0];pendingUrls=p.urls.slice();var nodeReady=function nodeReady(){if(/^(?:loaded|complete)$/i.test(node.readyState)){node.onreadystatechange=null;_finish()}};for(i=0,len=pendingUrls.length;i<len;++i){url=pendingUrls[i];if(cache[url]!=null&&!url.startsWith("var/theme/custom.css")){_finish();continue}else cache[url]=false;if(isCSS){node=env.gecko?createNode('style'):createNode('link',{href:url,rel:'stylesheet'})}else{node=createNode('script',{src:url});node.async=false};node.className='lazyload';node.setAttribute('charset','utf-8');if(env.ie&&!isCSS&&'onreadystatechange'in node&&!('draggable'in node)){node.onreadystatechange=nodeReady}else if(isCSS&&(env.gecko||env.webkit)){if(env.webkit){p.urls[i]=node.href;pollWebKit()}else{node.innerHTML='@import "'+url+'";';pollGecko(node)}}else node.onload=node.onerror=_finish;nodes.push(node)};for(i=0,len=nodes.length;i<len;++i)head.appendChild(nodes[i])}
function pollGecko(node){var hasRules='sheet'in node&&node.sheet&&'cssRules'in node.sheet;if(!hasRules){++pollCount;if(pollCount<200){setTimeout(canBind?pollGecko.bind(doc,node):function pollBind(){pollGecko(node)},50)}else if(hasRules)finishCSS();return};finishCSS()}
function pollWebKit(){var css=pending.css,i;if(css){i=styleSheets.length;while(--i>=0)if(styleSheets[i].href===css.urls[0]){finishCSS();break};++pollCount;if(css)if(pollCount<200){setTimeout(pollWebKit,50)}else finishCSS()}};return{css:canBind?load.bind(load,'css'):function css(urls,callback,obj,context){load('css',urls,callback,obj,context)},js:canBind?load.bind(load,'js'):function js(urls,callback,obj,context){load('js',urls,callback,obj,context)}}})(this.document)